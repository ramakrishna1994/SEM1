#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <pthread.h>
int pipedata [2];

void *writer_function (void *threadnumber)
{
	int i = 0;
	char ch = 'a', dummy;
	while (ch != 'q')
	{
		scanf ("%c", &ch);
		scanf (" %c", &dummy);
		if (write (pipedata [1], &ch, 1)!=1)
		{
			printf("Write error\n");
			exit(1);
		}
		printf ("Thread ID: %lu, Data written: %c\n", pthread_self (), ch);
	}
	pthread_exit (NULL);
}

int main ()
{
	pthread_t pt[3];
	for(int i=1;i<=2;i++)
	{
		pthread_create(&pt[i],NULL,writer_function,(void *)i);
	}

	for(int i=1;i<=2;i++)
	{
		pthread_join(pt[i],NULL);
	}
	exit(0);
}



