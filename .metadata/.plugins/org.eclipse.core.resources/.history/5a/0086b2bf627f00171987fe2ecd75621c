#include <stdio.h>
#include <string.h>
#include <sys/msg.h>
#include <stdlib.h>

int main()
{
	struct message
	{
		long type;
		char msgbuf[256];
	} msg;

	int msqid;
	int key=1234;
	msqid = msgget(key,0644);
	if(msqid < 0)
	{
		perror("Error in Opening the message queue ");
		exit(0);
	}
	printf("Enter Message to be put on Queue : ");
	scanf("%s",&msg.msgbuf);

	msgsnd(msqid,msg.msgbuf,sizeof(msg.msgbuf),IPC_NOWAIT);


}
